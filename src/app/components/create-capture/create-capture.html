<p-toast></p-toast>

<!-- BotÃ³n flotante para crear captura -->
<button class="floating-button" (click)="openDialog()">
 ðŸŽ£â€‹ Nueva Captura
</button>



<!-- Dialog para crear captura -->
<p-dialog
  [(visible)]="displayDialog"
  header="ðŸŽ£ Registrar Nueva Captura"
  [modal]="true"
  [style]="{width: '500px'}"
  [draggable]="false"
  [resizable]="false">

  <div class="dialog-content">
    <div class="field">
      <label for="fishType">Tipo de Pez *</label>
      <input
        pInputText
        id="fishType"
        [(ngModel)]="newCapture.fishType"
        placeholder="Ej: Trucha, Carpa, Lucio..."
        class="w-full" />
    </div>

    <div class="field">
      <label for="location">UbicaciÃ³n</label>
      <input
        pInputText
        id="location"
        [(ngModel)]="newCapture.location"
        placeholder="Ej: RÃ­o Ebro, Embalse de..."
        class="w-full" />
    </div>

    <div class="field">
      <label for="weight">Peso (kg) *</label>
      <p-inputNumber
        id="weight"
        [(ngModel)]="newCapture.weight"
        [minFractionDigits]="1"
        [maxFractionDigits]="2"
        [min]="0.1"
        suffix=" kg"
        placeholder="0.0"
        class="w-full">
      </p-inputNumber>
    </div>

    <div class="field">
      <label for="captureDate">Fecha de Captura *</label>
      <p-datePicker
        id="captureDate"
        [(ngModel)]="newCapture.captureData"
        dateFormat="dd/mm/yy"
        [showIcon]="true"
        [maxDate]="maxDate"
        [iconDisplay]="'input'"
        class="w-full">
      </p-datePicker>
    </div>
  </div>

  <ng-template pTemplate="footer">
    <p-button
      label="Cancelar"
      icon="pi pi-times"
      (onClick)="displayDialog = false"
      [text]="true">
    </p-button>
    <p-button
      label="Registrar Captura"
      icon="pi pi-check"
      severity="success"
      (onClick)="createCapture()"
      [loading]="loading">
    </p-button>
  </ng-template>
</p-dialog>